"use strict";(self.webpackChunkevent_reservation_app_docs=self.webpackChunkevent_reservation_app_docs||[]).push([[9229],{365:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"backend/models-domain/Transaction","title":"Transacci\xf3n","description":"Entidad de Dominio: Transaction","source":"@site/docs/backend/models-domain/Transaction.md","sourceDirName":"backend/models-domain","slug":"/backend/models-domain/Transaction","permalink":"/EventResourceReservationAppDocs/en/docs/backend/models-domain/Transaction","draft":false,"unlisted":false,"editUrl":"https://github.com/jose-angell/EventResourceReservationAppDocs/docs/backend/models-domain/Transaction.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"Transacci\xf3n"},"sidebar":"backendSidebar","previous":{"title":"Carrito de compras","permalink":"/EventResourceReservationAppDocs/en/docs/backend/models-domain/reservationCarItem"},"next":{"title":"Notificaci\xf3n","permalink":"/EventResourceReservationAppDocs/en/docs/backend/models-domain/Notification"}}');var i=d(4848),r=d(8453);const s={sidebar_position:8,title:"Transacci\xf3n"},t=void 0,c={},o=[{value:"Entidad de Dominio: <code>Transaction</code>",id:"entidad-de-dominio-transaction",level:2},{value:"1. Prop\xf3sito de la Entidad",id:"1-prop\xf3sito-de-la-entidad",level:3},{value:"2. Propiedades y Atributos",id:"2-propiedades-y-atributos",level:3},{value:"3. Diagrama de Entidad-Relaci\xf3n (ERD)",id:"3-diagrama-de-entidad-relaci\xf3n-erd",level:3}];function l(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",mermaid:"mermaid",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h2,{id:"entidad-de-dominio-transaction",children:["Entidad de Dominio: ",(0,i.jsx)(n.code,{children:"Transaction"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Archivo: models-domains/Transaction.md"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Este documento define la entidad de dominio ",(0,i.jsx)(n.code,{children:"Transaction"}),", sus propiedades, su prop\xf3sito dentro del sistema y sus relaciones clave con otras entidades. Sirve como la fuente principal de verdad para el registro de todos los movimientos de pago asociados a las reservas, incluyendo la interacci\xf3n con pasarelas de pago externas."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"1-prop\xf3sito-de-la-entidad",children:"1. Prop\xf3sito de la Entidad"}),"\n",(0,i.jsxs)(n.p,{children:["La entidad ",(0,i.jsx)(n.code,{children:"Transaction"})," representa el registro de un intento o confirmaci\xf3n de pago dentro del sistema. Su prop\xf3sito principal es rastrear el estado financiero de una reserva, sirviendo como un v\xednculo crucial con la pasarela de pago externa. Permite auditar los pagos, gestionar reembolsos, y asegurar que cada reserva tenga un historial financiero claro, independientemente del proveedor de pago externo."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"2-propiedades-y-atributos",children:"2. Propiedades y Atributos"}),"\n",(0,i.jsxs)(n.p,{children:["A continuaci\xf3n, se detallan las propiedades de la entidad ",(0,i.jsx)(n.code,{children:"Transaction"}),", incluyendo su tipo de dato conceptual y una descripci\xf3n clara de su prop\xf3sito."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Propiedades"}),(0,i.jsx)(n.th,{children:"Tipo de Dato (conceptual)"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Id"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"UUID"})," (o ",(0,i.jsx)(n.code,{children:"int"})," si es identidad generada por DB)"]}),(0,i.jsx)(n.td,{children:"Identificador \xfanico de la transacci\xf3n en tu sistema."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ReservationId"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"UUID"})," (o ",(0,i.jsx)(n.code,{children:"int"}),")"]}),(0,i.jsx)(n.td,{children:"Clave for\xe1nea (FK) a la entidad Reservation, indicando la reserva a la que se asocia este pago."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ClienteId"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"UUID"})," (o ",(0,i.jsx)(n.code,{children:"int"}),")"]}),(0,i.jsx)(n.td,{children:"Clave for\xe1nea (FK) a la entidad User (Cliente) que inici\xf3 la transacci\xf3n."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Amount"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Decimal"})," (",(0,i.jsx)(n.code,{children:"numeric"}),")"]}),(0,i.jsx)(n.td,{children:"Cantidad total de dinero de la transacci\xf3n."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Currency"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"string"})," (",(0,i.jsx)(n.code,{children:"char(3)"}),")"]}),(0,i.jsxs)(n.td,{children:["C\xf3digo ",(0,i.jsx)(n.code,{children:"ISO 4217"}),' de la moneda utilizada (ej., "MXN", "USD").']})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TransactionStatus"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Enum"})," (",(0,i.jsx)(n.code,{children:"int"})," o ",(0,i.jsx)(n.code,{children:"string"}),")"]}),(0,i.jsxs)(n.td,{children:["Estado actual de la transacci\xf3n (ej., Pendiente, ",(0,i.jsx)(n.code,{children:"Completada"}),", ",(0,i.jsx)(n.code,{children:"Fallida"}),", ",(0,i.jsx)(n.code,{children:"Reembolsada"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TransactionType"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Enum"})," (",(0,i.jsx)(n.code,{children:"int"})," o ",(0,i.jsx)(n.code,{children:"string"}),")"]}),(0,i.jsxs)(n.td,{children:["Tipo de operaci\xf3n de la transacci\xf3n (ej., ",(0,i.jsx)(n.code,{children:"Pago"}),", ",(0,i.jsx)(n.code,{children:"Reembolso"}),", ",(0,i.jsx)(n.code,{children:"CargoRecurrente"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TransactionDate"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DateTime"})}),(0,i.jsx)(n.td,{children:"Marca de tiempo exacta cuando se inici\xf3 la transacci\xf3n en tu sistema."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GatewayTransactionId"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"string"})," (opcional)"]}),(0,i.jsx)(n.td,{children:"Identificador \xfanico de la transacci\xf3n devuelto por la pasarela de pago externa. Crucial para referencias y conciliaci\xf3n."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PaymentMethod"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Enum"})," (",(0,i.jsx)(n.code,{children:"int"})," o ",(0,i.jsx)(n.code,{children:"string"}),", opcional)"]}),(0,i.jsxs)(n.td,{children:["M\xe9todo de pago utilizado (ej., ",(0,i.jsx)(n.code,{children:"TarjetaCredito"}),", ",(0,i.jsx)(n.code,{children:"PayPal"}),", ",(0,i.jsx)(n.code,{children:"TransferenciaBancaria"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GatewayDetails"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"string"})," (",(0,i.jsx)(n.code,{children:"JSON"})," o ",(0,i.jsx)(n.code,{children:"texto"}),", opcional)"]}),(0,i.jsxs)(n.td,{children:["Informaci\xf3n adicional estructurada (JSON) o texto plano recibida de la pasarela de pago (ej., ",(0,i.jsx)(n.code,{children:"c\xf3digos de error"}),", ",(0,i.jsx)(n.code,{children:"mensajes de confirmaci\xf3n"}),")."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LastUpdatedAt"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DateTime"})}),(0,i.jsx)(n.td,{children:"Marca de tiempo de la \xfaltima actualizaci\xf3n del estado de la transacci\xf3n."})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"3-diagrama-de-entidad-relaci\xf3n-erd",children:"3. Diagrama de Entidad-Relaci\xf3n (ERD)"}),"\n",(0,i.jsx)(n.p,{children:"Este diagrama visualiza la estructura de la entidad Transaction y sus relaciones clave con otras entidades en el modelo de dominio."}),"\n",(0,i.jsx)(n.mermaid,{value:'erDiagram\r\n    Reservation {\r\n        UUID Id PK\r\n        datetime Date\r\n        datetime StartTime\r\n    }\r\n\r\n    User {\r\n        UUID Id PK\r\n        string FirstName\r\n        string Email\r\n    }\r\n\r\n    TransactionStatus {\r\n        int Id PK\r\n        string StatusName\r\n    }\r\n\r\n    TransactionType {\r\n        int Id PK\r\n        string TypeName\r\n    }\r\n\r\n    PaymentMethod {\r\n        int Id PK\r\n        string MethodName\r\n    }\r\n\r\n    Transaction {\r\n        UUID Id PK\r\n        UUID ReservationId FK "Reservation.Id"\r\n        UUID ClienteId FK "User.Id"\r\n        decimal Amount\r\n        string Currency\r\n        int TransactionStatus FK "TransactionStatus.Id"\r\n        int TransactionType FK "TransactionType.Id"\r\n        datetime TransactionDate\r\n        string GatewayTransactionId\r\n        int PaymentMethod FK "PaymentMethod.Id"\r\n        string GatewayDetails\r\n        datetime LastUpdatedAt\r\n    }\r\n\r\n    Reservation ||--o{ Transaction : "genera_pago"\r\n    User ||--o{ Transaction : "realiza"\r\n    TransactionStatus ||--o{ Transaction : "tiene_estado"\r\n    TransactionType ||--o{ Transaction : "es_de_tipo"\r\n    PaymentMethod ||--o{ Transaction : "usa_metodo"'})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>s,x:()=>t});var a=d(6540);const i={},r=a.createContext(i);function s(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);