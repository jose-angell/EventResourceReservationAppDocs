"use strict";(self.webpackChunkevent_reservation_app_docs=self.webpackChunkevent_reservation_app_docs||[]).push([[8559],{1062:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"backend/arquitectura/adrs/adr-0006-patron-result","title":"ADR 0006:Implementaci\xf3n del Patr\xf3n Result","description":"Fecha:* 2025-07-29","source":"@site/docs/backend/arquitectura/adrs/adr-0006-patron-result.md","sourceDirName":"backend/arquitectura/adrs","slug":"/backend/arquitectura/adrs/adr-0006-patron-result","permalink":"/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0006-patron-result","draft":false,"unlisted":false,"editUrl":"https://github.com/jose-angell/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0006-patron-result.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"ADR 0006:Implementaci\xf3n del Patr\xf3n Result"},"sidebar":"backendSidebar","previous":{"title":"ADR 0005:Patrones Repository y Unit of Work","permalink":"/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0005-repository-unitOfWork"},"next":{"title":"ADR 0007:Implementaci\xf3n de Serilog para Logging","permalink":"/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0007-serilog-para-logging"}}');var r=a(4848),i=a(8453);const o={sidebar_position:7,title:"ADR 0006:Implementaci\xf3n del Patr\xf3n Result"},l="ADR 0006:   Implementaci\xf3n del Patr\xf3n Result",d={},c=[{value:"Contexto",id:"contexto",level:2},{value:"Decisi\xf3n",id:"decisi\xf3n",level:2},{value:"Alternativas Consideradas",id:"alternativas-consideradas",level:2},{value:"Consecuencias",id:"consecuencias",level:2},{value:"Positivas (+)",id:"positivas-",level:3},{value:"Negativas (-)",id:"negativas--",level:3}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"adr-0006---implementaci\xf3n-del-patr\xf3n-result",children:"ADR 0006:   Implementaci\xf3n del Patr\xf3n Result"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fecha:"})," 2025-07-29"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Estado:"})," [Aceptada]"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"contexto",children:"Contexto"}),"\n",(0,r.jsx)(n.p,{children:"En una aplicaci\xf3n, las operaciones pueden fallar por diversas razones: errores de validaci\xf3n, dependencias de bases de datos que no responden, o violaciones de reglas de negocio. La forma tradicional de manejar estos fallos es lanzando excepciones. Sin embargo, el uso excesivo de excepciones para flujos de error esperados (como una validaci\xf3n que no pasa) tiene varios inconvenientes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sobrecarga de rendimiento:"})," Las excepciones son costosas en t\xe9rminos de recursos."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flujos de c\xf3digo menos claros:"})," Obligan al desarrollador a usar bloques try-catch, lo que puede ocultar el flujo de control normal de la aplicaci\xf3n y dificultar el entendimiento del c\xf3digo."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Acoplamiento de la l\xf3gica:"})," El manejo de excepciones a menudo obliga a la capa de aplicaci\xf3n a depender de detalles de implementaci\xf3n de las capas internas para saber qu\xe9 excepciones capturar."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manejo de errores inconsistente:"}),' Cada m\xe9todo puede lanzar diferentes tipos de excepciones, lo que lleva a un manejo de errores irregular en todo el c\xf3digo.\r\nPara EventResourceReservationApp, se necesita un enfoque consistente, robusto y expl\xedcito para manejar los flujos de error que son parte del dominio de la aplicaci\xf3n (ej., "el nombre de la categor\xeda ya existe").']}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"decisi\xf3n",children:"Decisi\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["Se ha decidido implementar el ",(0,r.jsx)(n.strong,{children:"Patr\xf3n Result"})," en toda la capa de ",(0,r.jsx)(n.strong,{children:"Aplicaci\xf3n"}),".\r\nEste patr\xf3n se basa en devolver un objeto que representa el resultado de una operaci\xf3n, en lugar de lanzar una excepci\xf3n en caso de fallo. Este objeto ",(0,r.jsx)(n.code,{children:"OperationResult<T>"})," o simplemente ",(0,r.jsx)(n.code,{children:"OperationResult"})," encapsular\xe1 el \xe9xito o el fracaso de una operaci\xf3n, junto con los datos resultantes en caso de \xe9xito y los detalles del error en caso de fallo."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Estructura del ",(0,r.jsx)(n.code,{children:"OperationResult"}),":"]})," La implementaci\xf3n b\xe1sica consistir\xe1 en una clase o struct que contenga:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Un booleano ",(0,r.jsx)(n.code,{children:"IsSuccess"})," para indicar si la operaci\xf3n fue exitosa."]}),"\n",(0,r.jsxs)(n.li,{children:["Un valor gen\xe9rico ",(0,r.jsx)(n.code,{children:"TValue"})," para los datos de \xe9xito."]}),"\n",(0,r.jsxs)(n.li,{children:["Una colecci\xf3n de ",(0,r.jsx)(n.code,{children:"Error"})," que contendr\xe1 informaci\xf3n detallada sobre el fallo (ej., c\xf3digo de error, mensaje descriptivo)."]}),"\n",(0,r.jsxs)(n.li,{children:["Un codigo de error ",(0,r.jsx)(n.code,{children:"ErrorCode"})," para facilitarr el manejo de los errores en la capa de presentacion."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Uso del Patr\xf3n:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Creaci\xf3n:"})," Los servicios de la capa de Aplicaci\xf3n y los casos de uso devolver\xe1n un objeto ",(0,r.jsx)(n.code,{children:"OperationResult"})," o ",(0,r.jsx)(n.code,{children:"OperationResult<T>"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manejo de errores:"})," El c\xf3digo cliente (ej., un Controller) verificar\xe1 la propiedad ",(0,r.jsx)(n.code,{children:"IsSuccess"})," del objeto ",(0,r.jsx)(n.code,{children:"OperationResult"}),". Si es false, leer\xe1 el ErrorCode para decidir c\xf3mo responder (ej., un HTTP 400 Bad Request con el mensaje de error)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"alternativas-consideradas",children:"Alternativas Consideradas"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Uso extensivo de Excepciones:"})," Se descart\xf3 debido a los problemas de rendimiento, la falta de claridad en el flujo del c\xf3digo y la inconsistencia en el manejo de errores que introduce."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Uso de tuplas (",(0,r.jsx)(n.code,{children:"(bool isSuccess, TValue value, string errorMessage)"}),"):"]})," Se consider\xf3, pero se descart\xf3 por ser un enfoque menos expl\xedcito y m\xe1s propenso a errores. El patr\xf3n Result proporciona una clase dedicada y sem\xe1nticamente rica que encapsula mejor la intenci\xf3n del dise\xf1o."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"consecuencias",children:"Consecuencias"}),"\n",(0,r.jsx)(n.p,{children:"Describe los pros y los contras de la decisi\xf3n tomada. \xbfQu\xe9 se gana y qu\xe9 se pierde? \xbfQu\xe9 implicaciones tiene para el futuro?"}),"\n",(0,r.jsx)(n.h3,{id:"positivas-",children:"Positivas (+)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"C\xf3digo m\xe1s expl\xedcito:"})," La intenci\xf3n del c\xf3digo es clara, ya que el resultado esperado es un Result que puede fallar. Esto elimina la ambig\xfcedad de si un m\xe9todo puede lanzar una excepci\xf3n inesperada."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rendimiento mejorado:"})," Se evita la sobrecarga de rendimiento que conllevan las excepciones, ya que los errores esperados se manejan como un flujo de control normal."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manejo de errores consistente:"})," Al usar un tipo Result unificado, se estandariza el manejo de errores en toda la aplicaci\xf3n, haciendo el c\xf3digo m\xe1s predecible y f\xe1cil de mantener."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Integraci\xf3n con la API:"})," Facilita la traducci\xf3n de errores de la l\xf3gica de negocio a respuestas HTTP (c\xf3digos de estado y cuerpos de error), ya que la informaci\xf3n del fallo est\xe1 expl\xedcita en el objeto ",(0,r.jsx)(n.code,{children:"OperationResult"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"negativas--",children:"Negativas (-)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"M\xe1s verbosidad:"})," La sintaxis puede ser ligeramente m\xe1s verbosa que simplemente lanzar una excepci\xf3n. Se requiere m\xe1s c\xf3digo para crear y verificar el objeto ",(0,r.jsx)(n.code,{children:"OperationResult"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Curva de aprendizaje:"})," Puede haber una curva de aprendizaje inicial para los desarrolladores que no est\xe1n familiarizados con este patr\xf3n."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Propagaci\xf3n del error:"})," Si un m\xe9todo no verifica el ",(0,r.jsx)(n.code,{children:"OperationResult"})," de una operaci\xf3n interna, un error puede propagarse silenciosamente a trav\xe9s del sistema si no se maneja correctamente, a diferencia de las excepciones que detienen la ejecuci\xf3n inmediatamente. Sin embargo, se pueden aplicar buenas pr\xe1cticas de propagaci\xf3n del resultado para mitigar este riesgo."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>l});var s=a(6540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);