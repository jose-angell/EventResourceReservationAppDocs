"use strict";(self.webpackChunkevent_reservation_app_docs=self.webpackChunkevent_reservation_app_docs||[]).push([[4412],{8453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>d});var n=t(6540);const r={},a=n.createContext(r);function i(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(a.Provider,{value:s},e.children)}},8974:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"backend/Features/feature-template/tests","title":"05-tests","description":"Archivo: 05-tests.md","source":"@site/docs/backend/Features/00-feature-template/05-tests.md","sourceDirName":"backend/Features/00-feature-template","slug":"/backend/Features/feature-template/tests","permalink":"/EventResourceReservationAppDocs/docs/backend/Features/feature-template/tests","draft":false,"unlisted":false,"editUrl":"https://github.com/jose-angell/EventResourceReservationAppDocs/docs/backend/Features/00-feature-template/05-tests.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"05-tests"},"sidebar":"backendSidebar","previous":{"title":"04-security","permalink":"/EventResourceReservationAppDocs/docs/backend/Features/feature-template/security"},"next":{"title":"Operaciones","permalink":"/EventResourceReservationAppDocs/docs/category/operaciones-1"}}');var r=t(4848),a=t(8453);const i={sidebar_position:4,title:"05-tests"},d="\ud83e\uddea Pruebas",l={},c=[{value:"1. Pruebas Unitarias (Unit Tests)",id:"1-pruebas-unitarias-unit-tests",level:2},{value:"2. Pruebas de Integraci\xf3n (Integration Tests)",id:"2-pruebas-de-integraci\xf3n-integration-tests",level:2},{value:"3. Cobertura de C\xf3digo",id:"3-cobertura-de-c\xf3digo",level:2}];function o(e){const s={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"-pruebas",children:"\ud83e\uddea Pruebas"})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Archivo: ",(0,r.jsx)(s.code,{children:"05-tests.md"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Este documento detalla la ",(0,r.jsx)(s.strong,{children:"estrategia de pruebas"})," implementada para la feature ",(0,r.jsx)(s.code,{children:"<Nombre de la Feature>"}),". Se especifica la cobertura de pruebas unitarias y de integraci\xf3n, as\xed como los escenarios clave probados para asegurar la funcionalidad, fiabilidad y calidad del c\xf3digo."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"1-pruebas-unitarias-unit-tests",children:"1. Pruebas Unitarias (Unit Tests)"}),"\n",(0,r.jsxs)(s.p,{children:["Las pruebas unitarias se enfocan en verificar la ",(0,r.jsx)(s.strong,{children:"l\xf3gica de negocio individual y aislada"})," de cada componente (clases, m\xe9todos), utilizando mocks para sus dependencias externas."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{style:{textAlign:"left"},children:"Clase de Test"}),(0,r.jsx)(s.th,{style:{textAlign:"left"},children:"Componente o L\xf3gica Probada"}),(0,r.jsx)(s.th,{style:{textAlign:"left"},children:"Escenarios Clave / Casos de Prueba"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"},children:(0,r.jsx)(s.code,{children:"ReservationCreationUseCaseTests"})}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"L\xf3gica de creaci\xf3n de reservas"}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"- Creaci\xf3n exitosa de una reserva con datos v\xe1lidos."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"- Fallo por validaci\xf3n de datos de entrada (ej. fecha inv\xe1lida)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"- Manejo de excepciones al intentar interactuar con un repositorio mockeado."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"},children:(0,r.jsx)(s.code,{children:"ResourceServiceTests"})}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"L\xf3gica de obtenci\xf3n de recursos"}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"- Obtenci\xf3n de recursos disponibles para una fecha."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"- Filtrado de recursos por tipo."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"},children:(0,r.jsx)(s.code,{children:"ReservationDomainTests"})}),(0,r.jsxs)(s.td,{style:{textAlign:"left"},children:["M\xe9todos y l\xf3gica de la entidad ",(0,r.jsx)(s.code,{children:"Reservation"})]}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"- Cambiar estado de reserva a 'Confirmado' correctamente."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"}}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:"- Intentar cambiar a un estado inv\xe1lido (ej. 'Cancelado' a 'Pendiente')."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{style:{textAlign:"left"},children:(0,r.jsx)(s.code,{children:"..."})}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:(0,r.jsx)(s.code,{children:"..."})}),(0,r.jsx)(s.td,{style:{textAlign:"left"},children:(0,r.jsx)(s.code,{children:"..."})})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Consideraciones Clave:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Se utilizan ",(0,r.jsx)(s.strong,{children:"mocks"})," (con Moq) para aislar las unidades de c\xf3digo y probar su l\xf3gica sin dependencias reales de base de datos o servicios externos."]}),"\n",(0,r.jsxs)(s.li,{children:["Las pruebas siguen el patr\xf3n ",(0,r.jsx)(s.strong,{children:"Arrange-Act-Assert"})," para una estructura clara y legible."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"2-pruebas-de-integraci\xf3n-integration-tests",children:"2. Pruebas de Integraci\xf3n (Integration Tests)"}),"\n",(0,r.jsxs)(s.p,{children:["Las pruebas de integraci\xf3n validan la ",(0,r.jsx)(s.strong,{children:"interacci\xf3n entre m\xfaltiples componentes"})," del sistema, incluyendo la API, la l\xf3gica de negocio y la persistencia de datos real (o simulada con bases de datos en memoria/contenedores)."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Verificaci\xf3n de Endpoints y Flujos Completos:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"POST /api/v1/reservations"})," con payload v\xe1lido: Verifica la creaci\xf3n de una reserva de principio a fin, incluyendo la persistencia en la base de datos y la respuesta ",(0,r.jsx)(s.code,{children:"HTTP 201 Created"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"GET /api/v1/resources?date=YYYY-MM-DD"}),": Confirma que la API devuelve los recursos correctos seg\xfan el filtro, interactuando con la capa de datos."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"DELETE /api/v1/reservations/{id}"}),": Valida la eliminaci\xf3n de una reserva y su correcta reflejo en la base de datos."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Pruebas de Seguridad y Autorizaci\xf3n:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"GET /api/v1/reservations"})," sin token de autenticaci\xf3n: Espera ",(0,r.jsx)(s.code,{children:"HTTP 401 Unauthorized"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"POST /api/v1/reservations"})," con token inv\xe1lido o permisos insuficientes: Espera ",(0,r.jsx)(s.code,{children:"HTTP 403 Forbidden"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Manejo de Errores y Casos de Borde:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Creaci\xf3n de reserva con conflicto de horario (",(0,r.jsx)(s.code,{children:"HTTP 409 Conflict"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:["Intentar acceder a un recurso que no existe (",(0,r.jsx)(s.code,{children:"HTTP 404 Not Found"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:["Escenarios de validaci\xf3n (",(0,r.jsx)(s.code,{children:"HTTP 400 Bad Request"}),") con payloads inv\xe1lidos."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsxs)(s.strong,{children:["Uso de ",(0,r.jsx)(s.code,{children:"WebApplicationFactory<T>"}),":"]})," Se utiliza ",(0,r.jsx)(s.code,{children:"WebApplicationFactory<Program>"})," para hospedar la aplicaci\xf3n de backend en memoria, permitiendo realizar llamadas HTTP reales a los controladores."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Base de Datos para Pruebas:"})," Se configura una base de datos ",(0,r.jsx)(s.strong,{children:"InMemory"})," (o se sugiere el uso de Testcontainers para escenarios m\xe1s complejos) para asegurar la independencia de cada suite de pruebas y una ejecuci\xf3n r\xe1pida."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"3-cobertura-de-c\xf3digo",children:"3. Cobertura de C\xf3digo"}),"\n",(0,r.jsx)(s.p,{children:"La cobertura de c\xf3digo es una m\xe9trica clave para evaluar la calidad de las pruebas."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Objetivo M\xednimo:"})," Se aspira a una cobertura de pruebas de al menos ",(0,r.jsx)(s.strong,{children:"80%"})," para la l\xf3gica de los ",(0,r.jsx)(s.strong,{children:"Casos de Uso (Application Layer)"})," y los ",(0,r.jsx)(s.strong,{children:"Controladores (API Layer)"})," de esta feature."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Herramientas de Medici\xf3n:"})," Se recomienda el uso de herramientas como ",(0,r.jsx)(s.strong,{children:"Coverlet"})," (integrado con .NET SDK) para generar reportes de cobertura."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);