"use strict";(self.webpackChunkevent_reservation_app_docs=self.webpackChunkevent_reservation_app_docs||[]).push([[9603],{6207:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"backend/arquitectura/adrs/adr-0003-autenticacion-y-autorizacion","title":"ADR 0003:Uso de JWT y ASP.NET Core Identity","description":"Fecha:* 2025-07-16","source":"@site/docs/backend/arquitectura/adrs/adr-0003-autenticacion-y-autorizacion.md","sourceDirName":"backend/arquitectura/adrs","slug":"/backend/arquitectura/adrs/adr-0003-autenticacion-y-autorizacion","permalink":"/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0003-autenticacion-y-autorizacion","draft":false,"unlisted":false,"editUrl":"https://github.com/jose-angell/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0003-autenticacion-y-autorizacion.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"ADR 0003:Uso de JWT y ASP.NET Core Identity"},"sidebar":"backendSidebar","previous":{"title":"ADR 0002:Uso de PostgreSQL","permalink":"/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0002-uso-de-postgresql"},"next":{"title":"ADR 0004:Adopci\xf3n de Clean Architecture","permalink":"/EventResourceReservationAppDocs/docs/backend/arquitectura/adrs/adr-0004-Adopcion-clean-architecture"}}');var s=i(4848),r=i(8453);const t={sidebar_position:4,title:"ADR 0003:Uso de JWT y ASP.NET Core Identity"},o="ADR 0003: Autenticaci\xf3n y Autorizaci\xf3n con JWT y ASP.NET Core Identity",c={},d=[{value:"Contexto",id:"contexto",level:2},{value:"Decisi\xf3n",id:"decisi\xf3n",level:2},{value:"Alternativas Consideradas",id:"alternativas-consideradas",level:2},{value:"Consecuencias",id:"consecuencias",level:2},{value:"Positivas (+)",id:"positivas-",level:3},{value:"Negativas (-)",id:"negativas--",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"adr-0003-autenticaci\xf3n-y-autorizaci\xf3n-con-jwt-y-aspnet-core-identity",children:"ADR 0003: Autenticaci\xf3n y Autorizaci\xf3n con JWT y ASP.NET Core Identity"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fecha:"})," 2025-07-16"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Estado:"})," [Aceptada]"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"contexto",children:"Contexto"}),"\n",(0,s.jsxs)(n.p,{children:["Existe la necesidad de implementar un sistema para manejar la ",(0,s.jsx)(n.strong,{children:"autenticaci\xf3n y autorizaci\xf3n"})," de forma ",(0,s.jsx)(n.strong,{children:"segura, escalable"})," y que cumpla con el principio de ",(0,s.jsx)(n.code,{children:"sin estado"})," de la arquitectura ",(0,s.jsx)(n.code,{children:"REST"}),". Esto incluye la gesti\xf3n de usuarios (",(0,s.jsx)(n.code,{children:"registro"}),", ",(0,s.jsx)(n.code,{children:"login"}),", y ",(0,s.jsx)(n.code,{children:"perfiles"}),"), la protecci\xf3n de los ",(0,s.jsx)(n.code,{children:"endpoints"})," de la ",(0,s.jsx)(n.code,{children:"API"}),", y la diferenciaci\xf3n de permisos de usuarios seg\xfan los ",(0,s.jsx)(n.code,{children:"roles"})," existentes."]}),"\n",(0,s.jsx)(n.h2,{id:"decisi\xf3n",children:"Decisi\xf3n"}),"\n",(0,s.jsxs)(n.p,{children:["Decidimos implementar un sistema de autenticaci\xf3n y autorizaci\xf3n basado en la combinaci\xf3n de ",(0,s.jsx)(n.code,{children:"JSON Web Tokens (JWT) "}),"para la autenticaci\xf3n de API y ",(0,s.jsx)(n.code,{children:"ASP.NET Core Identity"})," para la gesti\xf3n de usuarios, roles y la l\xf3gica de autorizaci\xf3n."]}),"\n",(0,s.jsx)(n.h2,{id:"alternativas-consideradas",children:"Alternativas Consideradas"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementaci\xf3n de un sistema de usuarios/roles desde cero:"})," Descartado por complejidad, tiempo, seguridad - ASP.NET Core Identity ya lo hace de forma robusta."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Otro Identity Provider (ej. Auth0, Okta):"})," Descartado por sobre-complicaci\xf3n para un proyecto de portafolio, costo, o por querer demostrar implementaci\xf3n propia."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Autenticaci\xf3n basada en Sesiones/Cookies:"})," Descartado para APIs RESTful por ser con estado, menos escalable para m\xfaltiples servicios, problemas de CORS con SPAs."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OAuth 2.0 (completo flow):"})," Descartado por ser m\xe1s complejo de implementar para el alcance inicial, aunque JWT puede ser parte de OAuth."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"consecuencias",children:"Consecuencias"}),"\n",(0,s.jsx)(n.h3,{id:"positivas-",children:"Positivas (+)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ASP.NET Core Identity proporciona un sistema probado y seguro para la gesti\xf3n de credenciales y usuarios, mientras que JWT protege las comunicaciones."}),"\n",(0,s.jsx)(n.li,{children:"JWTs son sin estado, lo que facilita la escalabilidad horizontal de la API al no requerir sesiones en el servidor."}),"\n",(0,s.jsx)(n.li,{children:"Identity maneja la identidad del usuario y JWT la autenticaci\xf3n de la petici\xf3n."}),"\n",(0,s.jsx)(n.li,{children:"JWT es un est\xe1ndar que puede ser consumido f\xe1cilmente por diversas plataformas (frontend React, aplicaciones m\xf3viles, otros servicios)."}),"\n",(0,s.jsx)(n.li,{children:"Ambas soluciones se integran muy bien con el ecosistema de ASP.NET Core."}),"\n",(0,s.jsx)(n.li,{children:"ASP.NET Core Identity permite implementar autorizaci\xf3n basada en roles o pol\xedticas de forma efectiva."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"negativas--",children:"Negativas (-)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configurar y entender JWT y ASP.NET Core Identity a fondo puede tener una curva de aprendizaje inicial."}),"\n",(0,s.jsx)(n.li,{children:"Por ser sin estado, la revocaci\xf3n de tokens antes de su expiraci\xf3n requiere soluciones adicionales (listas negras, tokens de refresco)."}),"\n",(0,s.jsx)(n.li,{children:"ASP.NET Core Identity requiere una base de datos para almacenar usuarios y roles."}),"\n",(0,s.jsx)(n.li,{children:"La configuraci\xf3n de ambos sistemas y la coordinaci\xf3n de su interacci\xf3n puede ser m\xe1s compleja que soluciones m\xe1s simples."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var a=i(6540);const s={},r=a.createContext(s);function t(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);